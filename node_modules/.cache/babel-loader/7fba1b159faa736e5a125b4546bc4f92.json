{"remainingRequest":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\node_modules\\babel-loader\\lib\\index.js!D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\node_modules\\eslint-loader\\index.js??ref--13-0!D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\src\\components\\Generator\\process.js","dependencies":[{"path":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\src\\components\\Generator\\process.js","mtime":1695484426165},{"path":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\node_modules\\eslint-loader\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:aW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuZm9yLWVhY2giOwppbXBvcnQgImNvcmUtanMvbW9kdWxlcy9lcy5hcnJheS5zb21lIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuYXJyYXkuc3BsaWNlIjsKaW1wb3J0ICJjb3JlLWpzL21vZHVsZXMvZXMuZnVuY3Rpb24ubmFtZSI7CmltcG9ydCAiY29yZS1qcy9tb2R1bGVzL3dlYi5kb20tY29sbGVjdGlvbnMuZm9yLWVhY2giOwovLyDovpPlhaXmtYHnqIvmlbDmja5qc29u5a+56LGhZGF0YQpleHBvcnQgdmFyIGNoZWNrRGF0YSA9IGZ1bmN0aW9uIGNoZWNrRGF0YShkYXRhKSB7CiAgdmFyIGVycm9ycyA9IFtdOwogIHZhciBhcnIgPSBbXTsKICBhcnIucHVzaChkYXRhKTsKCiAgd2hpbGUgKGFyci5sZW5ndGggPiAwKSB7CiAgICB2YXIgdGVtcCA9IGFyci5wb3AoKTsgLy8g5Yik5pat6IqC54K55piv5ZCm5pyJ5pWICgogICAgc3dpdGNoICh0ZW1wLnR5cGUpIHsKICAgICAgY2FzZSAnc3RhcnQnOgogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnYXBwcm92ZXInIHx8ICdub3RpZmllcic6CiAgICAgICAgaWYgKCF0ZW1wLnByb3BlcnRpZXMpIHsKICAgICAgICAgIGVycm9ycy5wdXNoKHsKICAgICAgICAgICAgbmFtZTogdGVtcC5uYW1lLAogICAgICAgICAgICBub2RlSWQ6IHRlbXAubm9kZUlkCiAgICAgICAgICB9KTsKICAgICAgICB9CgogICAgICAgIGJyZWFrOwoKICAgICAgY2FzZSAnbm90aWZpZXInOgogICAgICAgIGlmICghdGVtcC5wcm9wZXJ0aWVzKSB7CiAgICAgICAgICBlcnJvcnMucHVzaCh7CiAgICAgICAgICAgIG5hbWU6IHRlbXAubmFtZSwKICAgICAgICAgICAgbm9kZUlkOiB0ZW1wLm5vZGVJZAogICAgICAgICAgfSk7CiAgICAgICAgfQoKICAgICAgICBicmVhazsKCiAgICAgIGNhc2UgJ3JvdXRlJzoKICAgICAgICB0ZW1wLmNvbmRpdGlvbk5vZGVzLmZvckVhY2goZnVuY3Rpb24gKGMpIHsKICAgICAgICAgIGlmICghYy5wcm9wZXJ0aWVzIHx8IGMucHJvcGVydGllcy5jb25kaXRpb25zLmxlbmd0aCA9PT0gMCB8fCBjLnByb3BlcnRpZXMuY29uZGl0aW9uc1swXS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgZXJyb3JzLnB1c2goewogICAgICAgICAgICAgIG5hbWU6IGMubmFtZSwKICAgICAgICAgICAgICBub2RlSWQ6IGMubm9kZUlkCiAgICAgICAgICAgIH0pOwogICAgICAgICAgfQogICAgICAgIH0pOwogICAgICAgIGJyZWFrOwoKICAgICAgZGVmYXVsdDoKICAgIH0gLy8g5Yik5pat6IqC54K55piv5ZCm5pyJ5a2Q6IqC54K5CgoKICAgIGlmICh0ZW1wLmNoaWxkTm9kZSAhPSBudWxsKSB7CiAgICAgIGFyci5wdXNoKHRlbXAuY2hpbGROb2RlKTsKICAgIH0KICB9CgogIHJldHVybiBlcnJvcnM7Cn07CmV4cG9ydCB2YXIgaXRlcmF0b3JEYXRhID0gZnVuY3Rpb24gaXRlcmF0b3JEYXRhKHJlc3VsdEFyciwgZGF0YSkgewogIHZhciBhcnIgPSBbXTsKICBhcnIucHVzaChkYXRhKTsKCiAgd2hpbGUgKGFyci5sZW5ndGggPiAwKSB7CiAgICB2YXIgdGVtcCA9IGFyci5wb3AoKTsKCiAgICBpZiAodGVtcC50eXBlID09PSAncm91dGUnKSB7CiAgICAgIHJlc3VsdEFyci5wdXNoKHRlbXApOwogICAgfSBlbHNlIHsKICAgICAgdmFyIGl0ZW0gPSB7CiAgICAgICAgbm9kZUlkOiB0ZW1wLm5vZGVJZCwKICAgICAgICBuYW1lOiB0ZW1wLm5hbWUsCiAgICAgICAgdHlwZTogdGVtcC50eXBlLAogICAgICAgIHByb3BlcnRpZXM6IHRlbXAucHJvcGVydGllcwogICAgICB9OwogICAgICByZXN1bHRBcnIucHVzaChpdGVtKTsKICAgIH0KCiAgICBpZiAodGVtcC5jaGlsZE5vZGUgIT0gbnVsbCkgewogICAgICBhcnIucHVzaCh0ZW1wLmNoaWxkTm9kZSk7CiAgICB9CiAgfQp9OwpleHBvcnQgdmFyIGZpbmRJbmRleCA9IGZ1bmN0aW9uIGZpbmRJbmRleChub2RlSWQsIGFycikgewogIHZhciBwb3NpdGlvbiA9IG51bGw7CiAgYXJyLnNvbWUoZnVuY3Rpb24gKHZhbHVlLCBpbmRleCkgewogICAgLy8gY29uc29sZS5sb2coJ3ZhbHVlOiAnICsgdmFsdWUubm9kZUlkICsgJywgaW5kZXg6JyArIGluZGV4ICsgJywnKQogICAgaWYgKHZhbHVlLm5vZGVJZCA9PT0gbm9kZUlkKSB7CiAgICAgIHBvc2l0aW9uID0gaW5kZXg7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0pOwogIHJldHVybiBwb3NpdGlvbjsKfTsKZXhwb3J0IHZhciBhZGROb2RlID0gZnVuY3Rpb24gYWRkTm9kZShub2RlLCBhcnIpIHsKICB2YXIgaW5kZXggPSBmaW5kSW5kZXgobm9kZS5wcmV2SWQsIGFycik7CgogIGlmIChpbmRleCAhPSBudWxsKSB7CiAgICBhcnIuc3BsaWNlKGluZGV4ICsgMSwgMCwgbm9kZSk7CiAgfQp9OwpleHBvcnQgdmFyIGFkZE5ld05vZGUgPSBmdW5jdGlvbiBhZGROZXdOb2RlKG5ld05vZGUsIG5vZGUsIGFycikgewogIGFkZE5vZGUobmV3Tm9kZSwgYXJyKTsKICBmaW5kUGFyZW50KG5ld05vZGUsIG5vZGUpOwp9OwovKioNCiAqDQogKiBAcGFyYW0geyp9IG5vZGUg5Li65a6M5pW06IqC54K5DQogKiBAcGFyYW0geyp9IG5vZGVEZWwg5Li65Yig6Zmk6IqC54K5DQogKiBAcGFyYW0geyp9IGFyciDkuLroioLngrlub2Rl6YGN5Y6G5ZCO5pWw57uEDQogKi8KCmV4cG9ydCB2YXIgZGVsTm9kZSA9IGZ1bmN0aW9uIGRlbE5vZGUobm9kZURlbCwgbm9kZSwgYXJyKSB7CiAgLy8gY29uc29sZS5sb2cobm9kZURlbCkKICB2YXIgaW5kZXggPSBmaW5kSW5kZXgobm9kZURlbC5ub2RlSWQsIGFycik7CgogIGlmIChpbmRleCAhPSBudWxsKSB7CiAgICBhcnIuc3BsaWNlKGluZGV4LCAxKTsKICB9CgogIGRlbGV0ZU5vZGUobm9kZURlbCwgbm9kZSk7Cn07CmV4cG9ydCB2YXIgZGVsZXRlTm9kZSA9IGZ1bmN0aW9uIGRlbGV0ZU5vZGUobm9kZURlbCwgbm9kZSkgewogIGlmIChub2RlLm5vZGVJZCA9PT0gbm9kZURlbC5wcmV2SWQpIHsKICAgIC8vIGNvbnNvbGUubG9nKG5vZGUpCiAgICBpZiAobm9kZURlbC5jaGlsZE5vZGUgIT0gbnVsbCkgewogICAgICBub2RlRGVsLmNoaWxkTm9kZS5wcmV2SWQgPSBub2RlLm5vZGVJZDsKICAgICAgbm9kZURlbCA9IG5vZGVEZWwuY2hpbGROb2RlOwogICAgfSBlbHNlIHsKICAgICAgbm9kZURlbCA9IG51bGw7CiAgICB9CgogICAgbm9kZS5jaGlsZE5vZGUgPSBub2RlRGVsOwogICAgcmV0dXJuOwogIH0KCiAgaWYgKG5vZGUuY2hpbGROb2RlICE9IG51bGwpIHsKICAgIHJldHVybiBkZWxldGVOb2RlKG5vZGVEZWwsIG5vZGUuY2hpbGROb2RlKTsKICB9Cn07CmV4cG9ydCB2YXIgZmluZFBhcmVudCA9IGZ1bmN0aW9uIGZpbmRQYXJlbnQobmV3Tm9kZSwgbm9kZSkgewogIGlmIChub2RlLm5vZGVJZCA9PT0gbmV3Tm9kZS5wcmV2SWQpIHsKICAgIGlmIChub2RlLmNoaWxkTm9kZSAhPSBudWxsKSB7CiAgICAgIG5vZGUuY2hpbGROb2RlLnByZXZJZCA9IG5ld05vZGUubm9kZUlkOwogICAgfQoKICAgIG5ld05vZGUuY2hpbGROb2RlID0gbm9kZS5jaGlsZE5vZGU7CiAgICBub2RlLmNoaWxkTm9kZSA9IG5ld05vZGU7CiAgICByZXR1cm47CiAgfQoKICBpZiAobm9kZS5jaGlsZE5vZGUgIT0gbnVsbCkgewogICAgcmV0dXJuIGZpbmRQYXJlbnQobmV3Tm9kZSwgbm9kZS5jaGlsZE5vZGUpOwogIH0KfTsKZXhwb3J0IHZhciBkZWxDb25kaXRpb25Ob2RlID0gZnVuY3Rpb24gZGVsQ29uZGl0aW9uTm9kZShjb25kTm9kZURlbCwgbm9kZSkgewogIHZhciBpbmRleCA9IG51bGw7CiAgbm9kZS5jb25kaXRpb25Ob2Rlcy5zb21lKGZ1bmN0aW9uIChjb25kLCBpKSB7CiAgICBpZiAoY29uZC5ub2RlSWQgPT09IGNvbmROb2RlRGVsLm5vZGVJZCkgewogICAgICBpbmRleCA9IGk7CiAgICAgIHJldHVybiB0cnVlOwogICAgfQogIH0pOwoKICBpZiAoaW5kZXggIT0gbnVsbCkgewogICAgbm9kZS5jb25kaXRpb25Ob2Rlcy5zcGxpY2UoaW5kZXgsIDEpOwogIH0gLy8g5Y+q5Ymp5LiL5LiA5Liq5p2h5Lu25YiG5pSvCgp9OwpleHBvcnQgdmFyIHNldENvbmRpdGlvbkZhY3RvciA9IGZ1bmN0aW9uIHNldENvbmRpdGlvbkZhY3Rvcihjb25kTm9kZSwgbm9kZSkgewogIG5vZGUuY29uZGl0aW9uTm9kZXMuc29tZShmdW5jdGlvbiAoY29uZCwgaSkgewogICAgaWYgKGNvbmQubm9kZUlkID09PSBjb25kTm9kZS5ub2RlSWQpIHsKICAgICAgY29uZC5wcm9wZXJ0aWVzID0gY29uZE5vZGUucHJvcGVydGllczsKICAgICAgcmV0dXJuIHRydWU7CiAgICB9CiAgfSk7Cn07CmV4cG9ydCB2YXIgY2hlY2tQcm9wZXJ0aWVzID0gZnVuY3Rpb24gY2hlY2tQcm9wZXJ0aWVzKG5vZGUpIHt9Ow=="},{"version":3,"sources":["D:/GoProject/quickStart/goworkflow/go-workflow-UI/src/components/Generator/process.js"],"names":["checkData","data","errors","arr","push","length","temp","pop","type","properties","name","nodeId","conditionNodes","forEach","c","conditions","childNode","iteratorData","resultArr","item","findIndex","position","some","value","index","addNode","node","prevId","splice","addNewNode","newNode","findParent","delNode","nodeDel","deleteNode","delConditionNode","condNodeDel","cond","i","setConditionFactor","condNode","checkProperties"],"mappings":"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","sourcesContent":["// 输入流程数据json对象data\r\nexport const checkData = (data) => {\r\n  var errors = []\r\n  var arr = []\r\n  arr.push(data)\r\n  while (arr.length > 0) {\r\n    var temp = arr.pop()\r\n    // 判断节点是否有效\r\n    switch (temp.type) {\r\n      case 'start':\r\n        break\r\n      case 'approver' || 'notifier':\r\n        if (!temp.properties) {\r\n          errors.push({\r\n            name: temp.name,\r\n            nodeId: temp.nodeId\r\n          })\r\n        }\r\n        break\r\n      case 'notifier':\r\n        if (!temp.properties) {\r\n          errors.push({\r\n            name: temp.name,\r\n            nodeId: temp.nodeId\r\n          })\r\n        }\r\n        break\r\n      case 'route':\r\n        temp.conditionNodes.forEach(c => {\r\n          if (!c.properties || c.properties.conditions.length === 0 || c.properties.conditions[0].length === 0) {\r\n            errors.push({\r\n              name: c.name,\r\n              nodeId: c.nodeId\r\n            })\r\n          }\r\n        })\r\n        break\r\n      default:\r\n    }\r\n    // 判断节点是否有子节点\r\n    if (temp.childNode != null) {\r\n      arr.push(temp.childNode)\r\n    }\r\n  }\r\n  return errors\r\n}\r\nexport const iteratorData = (resultArr, data) => {\r\n  var arr = []\r\n  arr.push(data)\r\n  while (arr.length > 0) {\r\n    var temp = arr.pop()\r\n    if (temp.type === 'route') {\r\n      resultArr.push(temp)\r\n    } else {\r\n      var item = {\r\n        nodeId: temp.nodeId,\r\n        name: temp.name,\r\n        type: temp.type,\r\n        properties: temp.properties\r\n      }\r\n      resultArr.push(item)\r\n    }\r\n    if (temp.childNode != null) {\r\n      arr.push(temp.childNode)\r\n    }\r\n  }\r\n}\r\nexport const findIndex = (nodeId, arr) => {\r\n  var position = null\r\n  arr.some((value, index) => {\r\n    // console.log('value: ' + value.nodeId + ', index:' + index + ',')\r\n    if (value.nodeId === nodeId) {\r\n      position = index\r\n      return true\r\n    }\r\n  })\r\n  return position\r\n}\r\nexport const addNode = (node, arr) => {\r\n  var index = findIndex(node.prevId, arr)\r\n  if (index != null) {\r\n    arr.splice(index + 1, 0, node)\r\n  }\r\n}\r\nexport const addNewNode = (newNode, node, arr) => {\r\n  addNode(newNode, arr)\r\n  findParent(newNode, node)\r\n}\r\n/**\r\n *\r\n * @param {*} node 为完整节点\r\n * @param {*} nodeDel 为删除节点\r\n * @param {*} arr 为节点node遍历后数组\r\n */\r\nexport const delNode = (nodeDel, node, arr) => {\r\n  // console.log(nodeDel)\r\n  var index = findIndex(nodeDel.nodeId, arr)\r\n  if (index != null) {\r\n    arr.splice(index, 1)\r\n  }\r\n  deleteNode(nodeDel, node)\r\n}\r\nexport const deleteNode = (nodeDel, node) => {\r\n  if (node.nodeId === nodeDel.prevId) {\r\n    // console.log(node)\r\n    if (nodeDel.childNode != null) {\r\n      nodeDel.childNode.prevId = node.nodeId\r\n      nodeDel = nodeDel.childNode\r\n    } else {\r\n      nodeDel = null\r\n    }\r\n    node.childNode = nodeDel\r\n    return\r\n  }\r\n  if (node.childNode != null) {\r\n    return deleteNode(nodeDel, node.childNode)\r\n  }\r\n}\r\nexport const findParent = (newNode, node) => {\r\n  if (node.nodeId === newNode.prevId) {\r\n    if (node.childNode != null) {\r\n      node.childNode.prevId = newNode.nodeId\r\n    }\r\n    newNode.childNode = node.childNode\r\n    node.childNode = newNode\r\n    return\r\n  }\r\n  if (node.childNode != null) {\r\n    return findParent(newNode, node.childNode)\r\n  }\r\n}\r\nexport const delConditionNode = (condNodeDel, node) => {\r\n  var index = null\r\n  node.conditionNodes.some((cond, i) => {\r\n    if (cond.nodeId === condNodeDel.nodeId) {\r\n      index = i\r\n      return true\r\n    }\r\n  })\r\n  if (index != null) {\r\n    node.conditionNodes.splice(index, 1)\r\n  }\r\n  // 只剩下一个条件分支\r\n}\r\nexport const setConditionFactor = (condNode, node) => {\r\n  node.conditionNodes.some((cond, i) => {\r\n    if (cond.nodeId === condNode.nodeId) {\r\n      cond.properties = condNode.properties\r\n      return true\r\n    }\r\n  })\r\n}\r\nexport const checkProperties = (node) => {\r\n\r\n}\r\n"]}]}