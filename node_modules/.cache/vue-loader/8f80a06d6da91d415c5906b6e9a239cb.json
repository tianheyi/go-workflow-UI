{"remainingRequest":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\src\\components\\Generator\\add-node-condition.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\src\\components\\Generator\\add-node-condition.vue","mtime":1695484426154},{"path":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQ29uZGl0aW9uR3JvdXAgZnJvbSAnLi9jb25kaXRpb24tZ3JvdXAnDQppbXBvcnQgQ29uZGl0aW9uQWRkQnRuIGZyb20gJy4vY29uZGl0aW9uLWFkZC1idG4nDQpleHBvcnQgZGVmYXVsdCB7DQogIGNvbXBvbmVudHM6IHsNCiAgICBDb25kaXRpb25Hcm91cCwNCiAgICBDb25kaXRpb25BZGRCdG4NCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBzaG93OiB7DQogICAgICB0eXBlOiBCb29sZWFuLA0KICAgICAgZGVmYXVsdDogZmFsc2UNCiAgICB9LA0KICAgIHByb3BlcnRpZXM6IHsNCiAgICAgIHR5cGU6IE9iamVjdCwNCiAgICAgIGRlZmF1bHQ6IHVuZGVmaW5lZA0KICAgIH0NCiAgfSwNCiAgZGF0YSAoKSB7DQogICAgcmV0dXJuIHsNCiAgICAgIHNob3cxOiBmYWxzZSwNCiAgICAgIHR5cGUxOiAnZGluZ3RhbGtfYWN0aW9uZXJfcmFuZ2VfY29uZGl0aW9uJw0KICAgIH0NCiAgfSwNCiAgd2F0Y2g6IHsNCiAgICBzaG93ICh2YWwpIHsNCiAgICAgIHRoaXMuc2hvdzEgPSB2YWwNCiAgICB9LA0KICAgIHNob3cxICh2YWwpIHsNCiAgICAgIHRoaXMuJGVtaXQoJ3VwZGF0ZTpzaG93JywgdmFsKQ0KICAgIH0NCiAgfSwNCiAgbW91bnRlZCAoKSB7DQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBpZlZhbGlkIChjb25kKSB7DQogICAgICBpZiAoIWNvbmQucGFyYW1LZXkgfHwgIWNvbmQucGFyYW1MYWJlbCkgew0KICAgICAgICBhbGVydCgn5Y+C5pWw55qEcGFyYW1LZXnlkoxwYXJhbUxhYmVsIOWAvOS4jeiDveS4uuepuicpDQogICAgICAgIHJldHVybiBmYWxzZQ0KICAgICAgfQ0KICAgICAgaWYgKCFjb25kLnR5cGUgfHwgY29uZC50eXBlID09PSAnJykgew0KICAgICAgICBhbGVydCgn5p2h5Lu257G75Z6L5LiN6IO95Li656m6JykNCiAgICAgICAgcmV0dXJuIGZhbHNlDQogICAgICB9DQoNCiAgICAgIHJldHVybiB0cnVlDQogICAgfSwNCiAgICBjYW5jZWwgKCkgew0KICAgICAgdGhpcy4kZW1pdCgndXBkYXRlOnNob3cnLCBmYWxzZSkNCiAgICB9LA0KICAgIHNhdmUgKCkgew0KICAgICAgaWYgKHRoaXMucHJvcGVydGllcy5jb25kaXRpb25zWzBdLmxlbmd0aCA9PT0gMCkgew0KICAgICAgICBhbGVydCgn5p2h5Lu25LiN6IO95Li656m6JykNCiAgICAgICAgcmV0dXJuDQogICAgICB9DQogICAgICB2YXIgZmxhZyA9IHRoaXMucHJvcGVydGllcy5jb25kaXRpb25zWzBdLmV2ZXJ5KGNvbmQgPT4gew0KICAgICAgICByZXR1cm4gdGhpcy5pZlZhbGlkKGNvbmQpDQogICAgICB9KQ0KICAgICAgLy8gY29uc29sZS5sb2coZmxhZykNCiAgICAgIGlmIChmbGFnKSB7DQogICAgICAgIHRoaXMuc2hvdzEgPSBmYWxzZQ0KICAgICAgICB0aGlzLiRlbWl0KCdvbi1zdWNjZXNzJywgdGhpcy5wcm9wZXJ0aWVzKQ0KICAgICAgfQ0KICAgIH0sDQogICAgYWRkQ29uZGl0aW9uICgpIHsNCiAgICAgIHRoaXMucHJvcGVydGllcy5jb25kaXRpb25zWzBdLnB1c2goew0KICAgICAgICBwb3M6IHRoaXMucHJvcGVydGllcy5jb25kaXRpb25zWzBdLmxlbmd0aCArIDEsDQogICAgICAgIHR5cGU6IHRoaXMudHlwZTENCiAgICAgIH0pDQogICAgfSwNCiAgICBkZWxHcm91cCAoaW5kZXgpIHsNCiAgICAgIHRoaXMucHJvcGVydGllcy5jb25kaXRpb25zWzBdLnNwbGljZShpbmRleCwgMSkNCiAgICB9DQogIH0NCn0NCg=="},{"version":3,"sources":["add-node-condition.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAsFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"add-node-condition.vue","sourceRoot":"src/components/Generator","sourcesContent":["<template>\r\n  <div>\r\n    <div\r\n      v-if=\"show1\"\r\n      class=\"side-modal-wrapper\"\r\n    >\r\n      <div class=\"side-modal-mask\" />\r\n      <div class=\"side-modal\">\r\n        <div class=\"side-modal-header\">\r\n          <div class=\"ant-row-flex ant-row-flex-middle editable-text-field\">\r\n            <div\r\n              class=\"ant-col ant-col-17 editable-text-col\"\r\n            >\r\n              <span class=\"text-value-wrapper\"><span>条件1</span><i\r\n                aria-label=\"icon: edit\"\r\n                tabindex=\"-1\"\r\n                class=\"anticon anticon-edit\"\r\n              ><svg\r\n                viewBox=\"64 64 896 896\"\r\n                focusable=\"false\"\r\n                class=\"\"\r\n                data-icon=\"edit\"\r\n                width=\"1em\"\r\n                height=\"1em\"\r\n                fill=\"currentColor\"\r\n                aria-hidden=\"true\"\r\n              ><path d=\"M257.7 752c2 0 4-.2 6-.5L431.9 722c2-.4 3.9-1.3 5.3-2.8l423.9-423.9a9.96 9.96 0 0 0 0-14.1L694.9 114.9c-1.9-1.9-4.4-2.9-7.1-2.9s-5.2 1-7.1 2.9L256.8 538.8c-1.5 1.5-2.4 3.3-2.8 5.3l-29.5 168.2a33.5 33.5 0 0 0 9.4 29.8c6.6 6.4 14.9 9.9 23.8 9.9zm67.4-174.4L687.8 215l73.3 73.3-362.7 362.6-88.9 15.7 15.6-89zM880 836H144c-17.7 0-32 14.3-32 32v36c0 4.4 3.6 8 8 8h784c4.4 0 8-3.6 8-8v-36c0-17.7-14.3-32-32-32z\" /></svg></i></span>\r\n            </div>\r\n            <div class=\"side-modal-body\">\r\n              <div class=\"side-modal-body-content\">\r\n                <div class=\"panel-condition\">\r\n                  <div class=\"ant-row-flex ant-row-flex-middle condition-tip\">\r\n                    <div class=\"ant-col ant-col-1\">\r\n                      <i\r\n                        aria-label=\"icon: info-circle\"\r\n                        class=\"anticon anticon-info-circle\"\r\n                        style=\"color: rgb(16, 142, 233);\"\r\n                      ><svg\r\n                        viewBox=\"64 64 896 896\"\r\n                        focusable=\"false\"\r\n                        class=\"\"\r\n                        data-icon=\"info-circle\"\r\n                        width=\"1em\"\r\n                        height=\"1em\"\r\n                        fill=\"currentColor\"\r\n                        aria-hidden=\"true\"\r\n                      ><path d=\"M512 64C264.6 64 64 264.6 64 512s200.6 448 448 448 448-200.6 448-448S759.4 64 512 64zm0 820c-205.4 0-372-166.6-372-372s166.6-372 372-372 372 166.6 372 372-166.6 372-372 372z\" /><path d=\"M464 336a48 48 0 1 0 96 0 48 48 0 1 0-96 0zm72 112h-48c-4.4 0-8 3.6-8 8v272c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V456c0-4.4-3.6-8-8-8z\" /></svg></i>\r\n                    </div>\r\n                    <div class=\"ant-col ant-col-19 tip\">\r\n                      当审批单同时满足以下条件时进入此流程\r\n                    </div>\r\n                  </div>\r\n                  <ConditionGroup\r\n                    v-for=\"(item, index) in properties.conditions[0]\"\r\n                    :key=\"index\"\r\n                    :data.sync=\"item\"\r\n                    :pos=\"index\"\r\n                    @del=\"delGroup(index)\"\r\n                  />\r\n                  <ConditionAddBtn @click=\"addCondition\" />\r\n                  <div>\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"ant-btn ant-btn-default\"\r\n                      @click=\"cancel\"\r\n                    >\r\n                      <span>取 消</span>\r\n                    </button>\r\n                    <button\r\n                      type=\"button\"\r\n                      class=\"ant-btn ant-btn-primary\"\r\n                      @click=\"save\"\r\n                    >\r\n                      <span>保 存</span>\r\n                    </button>\r\n                  </div>\r\n                </div>\r\n              </div>\r\n            </div>\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport ConditionGroup from './condition-group'\r\nimport ConditionAddBtn from './condition-add-btn'\r\nexport default {\r\n  components: {\r\n    ConditionGroup,\r\n    ConditionAddBtn\r\n  },\r\n  props: {\r\n    show: {\r\n      type: Boolean,\r\n      default: false\r\n    },\r\n    properties: {\r\n      type: Object,\r\n      default: undefined\r\n    }\r\n  },\r\n  data () {\r\n    return {\r\n      show1: false,\r\n      type1: 'dingtalk_actioner_range_condition'\r\n    }\r\n  },\r\n  watch: {\r\n    show (val) {\r\n      this.show1 = val\r\n    },\r\n    show1 (val) {\r\n      this.$emit('update:show', val)\r\n    }\r\n  },\r\n  mounted () {\r\n  },\r\n  methods: {\r\n    ifValid (cond) {\r\n      if (!cond.paramKey || !cond.paramLabel) {\r\n        alert('参数的paramKey和paramLabel 值不能为空')\r\n        return false\r\n      }\r\n      if (!cond.type || cond.type === '') {\r\n        alert('条件类型不能为空')\r\n        return false\r\n      }\r\n\r\n      return true\r\n    },\r\n    cancel () {\r\n      this.$emit('update:show', false)\r\n    },\r\n    save () {\r\n      if (this.properties.conditions[0].length === 0) {\r\n        alert('条件不能为空')\r\n        return\r\n      }\r\n      var flag = this.properties.conditions[0].every(cond => {\r\n        return this.ifValid(cond)\r\n      })\r\n      // console.log(flag)\r\n      if (flag) {\r\n        this.show1 = false\r\n        this.$emit('on-success', this.properties)\r\n      }\r\n    },\r\n    addCondition () {\r\n      this.properties.conditions[0].push({\r\n        pos: this.properties.conditions[0].length + 1,\r\n        type: this.type1\r\n      })\r\n    },\r\n    delGroup (index) {\r\n      this.properties.conditions[0].splice(index, 1)\r\n    }\r\n  }\r\n}\r\n</script>\r\n"]}]}