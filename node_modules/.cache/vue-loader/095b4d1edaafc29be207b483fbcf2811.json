{"remainingRequest":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\src\\components\\Generator\\Main.vue?vue&type=script&lang=js&","dependencies":[{"path":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\src\\components\\Generator\\Main.vue","mtime":1695484426151},{"path":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\node_modules\\babel-loader\\lib\\index.js","mtime":499162500000},{"path":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\node_modules\\cache-loader\\dist\\cjs.js","mtime":499162500000},{"path":"D:\\GoProject\\quickStart\\goworkflow\\go-workflow-UI\\node_modules\\vue-loader\\lib\\index.js","mtime":499162500000}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:Ly8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KLy8KDQppbXBvcnQgQU1vZGFsIGZyb20gJy4vLi4vQU1vZGFsL0FNb2RhbCcNCmltcG9ydCBFbmROb2RlIGZyb20gJy4vZW5kLW5vZGUnDQppbXBvcnQgRXJyb3JzTW9kYWwgZnJvbSAnLi9lcnJvcnMtbW9kYWwnDQppbXBvcnQgeyBpdGVyYXRvckRhdGEsIGFkZE5ld05vZGUsIGRlbE5vZGUsIGNoZWNrRGF0YSB9IGZyb20gJy4vcHJvY2VzcycNCmV4cG9ydCBkZWZhdWx0IHsNCiAgbmFtZTogJ1dvcmtmbG93VWknLA0KICBjb21wb25lbnRzOiB7DQogICAgRW5kTm9kZSwNCiAgICBBTW9kYWwsDQogICAgRXJyb3JzTW9kYWwNCiAgfSwNCiAgcHJvcHM6IHsNCiAgICBkYXRhOiB7DQogICAgICB0eXBlOiBPYmplY3QsDQogICAgICBkZWZhdWx0OiB1bmRlZmluZWQNCiAgICB9DQogIH0sDQogIGRhdGE6ICgpID0+ICh7DQogICAgaXRlbXM6IFtdLA0KICAgIGVycm9yc01vZGFsOiBmYWxzZSwNCiAgICBlcnJvcnM6IFtdLA0KICAgIHZpZXdNb2RhbDogZmFsc2UsDQogICAgZGF0YTE6IHsNCiAgICAgIHRpdGxlOiAn6K+35YGHJywNCiAgICAgIG5vZGU6IHsNCiAgICAgICAgbmFtZTogJ+WPkei1t+S6uicsDQogICAgICAgIHR5cGU6ICdzdGFydCcsDQogICAgICAgIG5vZGVJZDogJ3NpZC1zdGFydGV2ZW50JywNCiAgICAgICAgY2hpbGROb2RlOiB7fQ0KICAgICAgfQ0KICAgIH0NCiAgfSksDQogIHdhdGNoOiB7DQogICAgZGF0YTogew0KICAgICAgaGFuZGxlciAodmFsKSB7DQogICAgICAgIHRoaXMuZGF0YTEgPSB2YWwNCiAgICAgIH0sDQogICAgICBkZWVwOiB0cnVlDQogICAgfQ0KICB9LA0KICBtb3VudGVkICgpIHsNCiAgICBpZiAodGhpcy5kYXRhICYmIHRoaXMuZGF0YS5ub2RlKSB7DQogICAgICB0aGlzLmRhdGExID0gdGhpcy5kYXRhDQogICAgfQ0KICAgIGNvbnNvbGUubG9nKHRoaXMuZGF0YTEpDQogICAgaWYgKCF0aGlzLmRhdGExLm5vZGUpIHsNCiAgICAgIHRoaXMuaW5pdGlhbE5vZGUoKQ0KICAgIH0NCiAgICB0aGlzLml0ZXJhdG9yRGF0YSh0aGlzLmRhdGExLm5vZGUpDQogIH0sDQogIG1ldGhvZHM6IHsNCiAgICBpbml0aWFsTm9kZSAoKSB7DQogICAgICB0aGlzLmRhdGExLm5vZGUgPSB7DQogICAgICAgIG5hbWU6ICflj5HotbfkuronLA0KICAgICAgICB0eXBlOiAnc3RhcnQnLA0KICAgICAgICBub2RlSWQ6ICdzaWQtc3RhcnRldmVudCcNCiAgICAgIH0NCiAgICB9LA0KICAgIGl0ZXJhdG9yRGF0YSAoZGF0YSkgew0KICAgICAgdGhpcy5pdGVtcyA9IFtdDQogICAgICBpdGVyYXRvckRhdGEodGhpcy5pdGVtcywgZGF0YSkNCiAgICB9LA0KICAgIGFkZG5vZGUgKG5vZGUpIHsNCiAgICAgIGFkZE5ld05vZGUobm9kZSwgdGhpcy5kYXRhMS5ub2RlLCB0aGlzLml0ZW1zKQ0KICAgIH0sDQogICAgZGVsTm9kZSAobm9kZSkgew0KICAgICAgZGVsTm9kZShub2RlLCB0aGlzLmRhdGExLm5vZGUsIHRoaXMuaXRlbXMpDQogICAgfSwNCiAgICBzYXZlICgpIHsNCiAgICAgIHZhciBlcnJvcnMgPSBjaGVja0RhdGEodGhpcy5kYXRhMS5ub2RlKQ0KICAgICAgaWYgKGVycm9ycy5sZW5ndGggPiAwKSB7DQogICAgICAgIHRoaXMuZXJyb3JzTW9kYWwgPSB0cnVlDQogICAgICAgIHRoaXMuZXJyb3JzID0gZXJyb3JzDQogICAgICAgIHJldHVybg0KICAgICAgfQ0KICAgICAgdGhpcy4kZW1pdCgnb2snLCB0aGlzLmRhdGExKQ0KICAgIH0sDQogICAgcHJldmlldyAoKSB7DQogICAgICB2YXIgZXJyb3JzID0gY2hlY2tEYXRhKHRoaXMuZGF0YTEubm9kZSkNCiAgICAgIGlmIChlcnJvcnMubGVuZ3RoID4gMCkgew0KICAgICAgICB0aGlzLmVycm9yc01vZGFsID0gdHJ1ZQ0KICAgICAgICB0aGlzLmVycm9ycyA9IGVycm9ycw0KICAgICAgICByZXR1cm4NCiAgICAgIH0NCiAgICAgIHRoaXMudmlld01vZGFsID0gdHJ1ZQ0KICAgIH0NCiAgfQ0KfQ0K"},{"version":3,"sources":["Main.vue"],"names":[],"mappings":";;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;;AAyFA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"Main.vue","sourceRoot":"src/components/Generator","sourcesContent":["<template>\r\n  <div>\r\n    <div class=\"fd-nav\">\r\n      <div class=\"fd-nav-left\">\r\n        <div class=\"fd-nav-back\">\r\n          <i\r\n            aria-label=\"icon: left\"\r\n            class=\"anticon anticon-left\"\r\n          ><svg\r\n            viewBox=\"64 64 896 896\"\r\n            focusable=\"false\"\r\n            class=\"\"\r\n            data-icon=\"left\"\r\n            width=\"1em\"\r\n            height=\"1em\"\r\n            fill=\"currentColor\"\r\n            aria-hidden=\"true\"\r\n          ><path d=\"M724 218.3V141c0-6.7-7.7-10.4-12.9-6.3L260.3 486.8a31.86 31.86 0 0 0 0 50.3l450.8 352.1c5.3 4.1 12.9.4 12.9-6.3v-77.3c0-4.9-2.3-9.6-6.1-12.6l-360-281 360-281.1c3.8-3 6.1-7.7 6.1-12.6z\" /></svg></i>\r\n        </div><div class=\"fd-nav-title\">\r\n          {{ data1.title }}\r\n        </div>\r\n      </div>\r\n      <div class=\"fd-nav-center\">\r\n        <div class=\"fd-nav-container\">\r\n          <div class=\"fd-nav-item\">\r\n            <span\r\n              class=\"order-num\"\r\n            >1</span>流程设计\r\n          </div>\r\n        </div>\r\n      </div>\r\n      <div class=\"fd-nav-right\">\r\n        <button\r\n          type=\"button\"\r\n          class=\"ant-btn button-preview\"\r\n          @click=\"preview\"\r\n        >\r\n          <span>预 览</span>\r\n        </button>\r\n        <button\r\n          type=\"button\"\r\n          class=\"ant-btn button-preview\"\r\n          @click=\"save\"\r\n        >\r\n          <span>发 布</span>\r\n        </button>\r\n      </div>\r\n    </div>\r\n    <div class=\"fd-nav-content\">\r\n      <div\r\n        class=\"dingflow-design\"\r\n      >\r\n        <div class=\"zoom\">\r\n          <div class=\"zoom-out\" />\r\n          <span>100%</span>\r\n          <div class=\"zoom-in\" />\r\n        </div>\r\n        <div class=\"ie-polyfill-container\">\r\n          <div\r\n            id=\"box-scale\"\r\n            class=\"box-scale\"\r\n            style=\"transform: scale(1); transform-origin: 50% 0px 0px;\"\r\n          >\r\n            <Node\r\n              v-for=\"(item, index) in items\"\r\n              :key=\"index\"\r\n              :node=\"item\"\r\n              @addnode=\"addnode\"\r\n              @delNode=\"delNode(item)\"\r\n            />\r\n            <EndNode />\r\n            <AModal\r\n              :dialog.sync=\"viewModal\"\r\n            >\r\n              <pre\r\n                style=\"font-family: Monaco,Menlo,Consolas,Bitstream Vera Sans Mono,monospace;font-size: 14px;\"\r\n              >{{ JSON.stringify(data1.node, null, 4) }}</pre>\r\n            </AModal>\r\n            <ErrorsModal\r\n              :dialog.sync=\"errorsModal\"\r\n              :data=\"errors\"\r\n            />\r\n          </div>\r\n        </div>\r\n      </div>\r\n    </div>\r\n  </div>\r\n</template>\r\n<script>\r\nimport AModal from './../AModal/AModal'\r\nimport EndNode from './end-node'\r\nimport ErrorsModal from './errors-modal'\r\nimport { iteratorData, addNewNode, delNode, checkData } from './process'\r\nexport default {\r\n  name: 'WorkflowUi',\r\n  components: {\r\n    EndNode,\r\n    AModal,\r\n    ErrorsModal\r\n  },\r\n  props: {\r\n    data: {\r\n      type: Object,\r\n      default: undefined\r\n    }\r\n  },\r\n  data: () => ({\r\n    items: [],\r\n    errorsModal: false,\r\n    errors: [],\r\n    viewModal: false,\r\n    data1: {\r\n      title: '请假',\r\n      node: {\r\n        name: '发起人',\r\n        type: 'start',\r\n        nodeId: 'sid-startevent',\r\n        childNode: {}\r\n      }\r\n    }\r\n  }),\r\n  watch: {\r\n    data: {\r\n      handler (val) {\r\n        this.data1 = val\r\n      },\r\n      deep: true\r\n    }\r\n  },\r\n  mounted () {\r\n    if (this.data && this.data.node) {\r\n      this.data1 = this.data\r\n    }\r\n    console.log(this.data1)\r\n    if (!this.data1.node) {\r\n      this.initialNode()\r\n    }\r\n    this.iteratorData(this.data1.node)\r\n  },\r\n  methods: {\r\n    initialNode () {\r\n      this.data1.node = {\r\n        name: '发起人',\r\n        type: 'start',\r\n        nodeId: 'sid-startevent'\r\n      }\r\n    },\r\n    iteratorData (data) {\r\n      this.items = []\r\n      iteratorData(this.items, data)\r\n    },\r\n    addnode (node) {\r\n      addNewNode(node, this.data1.node, this.items)\r\n    },\r\n    delNode (node) {\r\n      delNode(node, this.data1.node, this.items)\r\n    },\r\n    save () {\r\n      var errors = checkData(this.data1.node)\r\n      if (errors.length > 0) {\r\n        this.errorsModal = true\r\n        this.errors = errors\r\n        return\r\n      }\r\n      this.$emit('ok', this.data1)\r\n    },\r\n    preview () {\r\n      var errors = checkData(this.data1.node)\r\n      if (errors.length > 0) {\r\n        this.errorsModal = true\r\n        this.errors = errors\r\n        return\r\n      }\r\n      this.viewModal = true\r\n    }\r\n  }\r\n}\r\n</script>\r\n\r\n<!-- Add \"scoped\" attribute to limit CSS to this component only -->\r\n<style scoped>\r\n</style>\r\n"]}]}